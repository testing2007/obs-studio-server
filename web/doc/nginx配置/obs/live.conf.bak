rtmp {        
	server {
		listen 1935; #阿里云防火墙记得打开此端口
        	chunk_size 4000;
		ping 30s;
		
		on_connect http://localhost:8100/on_connect;
		on_play http://localhost:8100/on_play;
		on_publish http://localhost:8100/on_publish;
		on_done http://localhost:8100/on_done;
		on_play_done http://localhost:8100/on_play_done;
	        on_publish_done http://localhost:8100/on_publish_done;
	       	on_record_done http://localhost:8100/on_record_done;
	        on_update http://localhost:8100/on_update; 

        	# rtmp方式直播， rtmp是可以随便命名的， 最后播放地址 rtmp://ip/rtmp/*** (***随便写, /rtmp/：与application保持一致)
       		application rtmp {
            	    live on;
	            record all;
        	    record_path /Users/zhiqiangwei/Work/workspace/obs/video/rtmp;
            	    record_suffix -%Y-%m-%d-%H_%M_%S.flv;
            	    record_max_size 200M;
        	}

		
		# hls方式直播， hls是可以随便命名的， 最后播放地址 rtmp://ip/hls/*** (***随便写，/hls/：与application保持一致)
	        application hls {
        	    live on;
           	    hls on;
	            # 注意此地址设置，hls_path 代表 hls 目录及.m3u8文件的保存目录
        	    hls_path /Users/zhiqiangwei/Work/workspace/obs/video/hls;
           	    hls_fragment 1s; #切片大小
           	    hls_playlist_length 5; #切片长度
            	    allow play all;
        	}
    }
}

